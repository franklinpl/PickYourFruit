{"ast":null,"code":"import _slicedToArray from\"/home/franklin/Coding/pickyourfruit/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./CheckoutScreen.css';import{useState,useEffect}from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import orderNumbers from'../orderNumbers';import*as emailjs from'emailjs-com';import env from'react-dotenv';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Checkout(_ref){var cart=_ref.cart;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),street=_useState6[0],setStreet=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),number=_useState8[0],setNumber=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),zipCode=_useState10[0],setZipCode=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),cardHolder=_useState12[0],setCardHolder=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),cardNumber=_useState14[0],setCardNumber=_useState14[1];var _useState15=useState(new Date()),_useState16=_slicedToArray(_useState15,2),expiry=_useState16[0],setExpiry=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),cvv=_useState18[0],setCvv=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),qtyInCart=_useState20[0],setQtyInCart=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),totalSum=_useState22[0],setTotalSum=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),paymentSuccessful=_useState24[0],setPaymentSuccessful=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),orderNumber=_useState26[0],setOrderNumber=_useState26[1];useEffect(function(){var sum=0;var items=0;cart.forEach(function(item){items+=item.qty;sum+=item.qty*item.price;});setQtyInCart(items);setTotalSum(sum);},[cart,qtyInCart]);var paymentProcessment=function paymentProcessment(e){e.preventDefault();var newOrderNumber=function newOrderNumber(){var max=99999999;var min=10000000;function generate(max,min){return Math.floor(Math.random()*(max-min))+min;}var chosenNumber=generate(max,min);for(var i=0;i<=orderNumbers.length;i++){if(i===orderNumbers.length){return chosenNumber;}if(chosenNumber===orderNumbers[i]){newOrderNumber();}}};var generateOrderNumber=newOrderNumber();setOrderNumber(generateOrderNumber);emailjs.sendForm('gmail','template_mudydw2',e.target,'user_ei2HwlX5HUA6Vb2BoNWPR',{order_number:\"12\",email:email,name:name}).then(function(result){setPaymentSuccessful(true);console.log(result);},function(error){console.log(error);});};return/*#__PURE__*/_jsx(\"div\",{children:cart.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"zero-cart\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"You don't have any item in your cart\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Search for products\"})})]}):/*#__PURE__*/_jsx(\"div\",{children:paymentSuccessful?/*#__PURE__*/_jsxs(\"div\",{className:\"payment-successful\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"payment-successful-title\",children:\"Your payment was successful\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Your order number is \",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:32},children:orderNumber})]}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:10},children:\"We sent you an email with the order number and delivering information. Thank you for choosing us\"})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkout\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return paymentProcessment(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"personal-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Personal information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:function onChange(e){return setName(e.target.value);},value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"email\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"house-street\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"House street: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setStreet(e.target.value);},value:street})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"house-number\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"House number: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setNumber(e.target.value);},value:number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"zip-code\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Zip code: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setZipCode(e.target.value);},value:zipCode})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Card information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-holder\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Card holder: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setCardHolder(e.target.value);},value:cardHolder})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-number\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Card number: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setCardNumber(e.target.value);},value:cardNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expiry\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Expiry date: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setExpiry(e.target.value);},value:expiry})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cvv\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"CVV: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setCvv(e.target.value);},value:cvv})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-button\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"summary-button\",children:\"Pay now\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-and-pay\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"summary-title\",children:\"CHECKOUT SUMMARY\"}),cart.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[item.name,\" x \",item.qty]}),/*#__PURE__*/_jsxs(\"h3\",{id:\"item-price\",children:[\"\\xA3\",item.price*item.qty]})]},item.id);})]}),/*#__PURE__*/_jsxs(\"h2\",{id:\"summary-total\",children:[\"Total: \\xA3\",totalSum]})]})]})})})});}var mapStateToProps=function mapStateToProps(state){return{cart:state.shop.cart};};export default connect(mapStateToProps)(Checkout);","map":{"version":3,"sources":["/home/franklin/Coding/pickyourfruit/frontend/src/components/screen/CheckoutScreen.js"],"names":["useState","useEffect","connect","Link","orderNumbers","emailjs","env","Checkout","cart","name","setName","email","setEmail","street","setStreet","number","setNumber","zipCode","setZipCode","cardHolder","setCardHolder","cardNumber","setCardNumber","Date","expiry","setExpiry","cvv","setCvv","qtyInCart","setQtyInCart","totalSum","setTotalSum","paymentSuccessful","setPaymentSuccessful","orderNumber","setOrderNumber","sum","items","forEach","item","qty","price","paymentProcessment","e","preventDefault","newOrderNumber","max","min","generate","Math","floor","random","chosenNumber","i","length","generateOrderNumber","sendForm","target","order_number","then","result","console","log","error","fontSize","margin","value","map","id","mapStateToProps","state","shop"],"mappings":"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","sourcesContent":["import './CheckoutScreen.css'\nimport {useState, useEffect} from 'react'\nimport {connect} from 'react-redux'\nimport {Link} from 'react-router-dom'\nimport orderNumbers from '../orderNumbers'\nimport * as emailjs from 'emailjs-com'\nimport env from 'react-dotenv'\n\nfunction Checkout({cart}){\n\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [street, setStreet] = useState('')\n    const [number, setNumber] = useState('')\n    const [zipCode, setZipCode] = useState('')\n    const [cardHolder, setCardHolder] = useState('')\n    const [cardNumber, setCardNumber] = useState('')\n    const [expiry, setExpiry] = useState(new Date())\n    const [cvv, setCvv] = useState('')\n\n    const [qtyInCart, setQtyInCart] = useState('')\n    const [totalSum, setTotalSum] = useState('')\n\n    const [paymentSuccessful, setPaymentSuccessful] = useState(false)\n    const [orderNumber, setOrderNumber] = useState(null)\n\n    useEffect(() => {\n        let sum = 0;\n        let items = 0\n        cart.forEach((item) => {\n            items += item.qty;\n            sum += item.qty*item.price\n        }\n            )\n        setQtyInCart(items);\n        setTotalSum(sum)\n    },[cart, qtyInCart])\n\n    \n    const paymentProcessment = (e) => {\n        e.preventDefault()        \n        \n        let newOrderNumber = function(){\n            let max=99999999\n            let min=10000000\n            function generate(max, min){\n                return Math.floor(Math.random()*(max-min))+min\n            }\n            let chosenNumber = generate(max, min)\n            \n            for (let i=0; i<=orderNumbers.length; i++){\n                if (i === orderNumbers.length){return chosenNumber}\n                if (chosenNumber === orderNumbers[i]){newOrderNumber()}\n            }\n        }\n\n        let generateOrderNumber = newOrderNumber()\n\n        setOrderNumber(generateOrderNumber)\n        \n        emailjs.sendForm('gmail', 'template_mudydw2', e.target,'user_ei2HwlX5HUA6Vb2BoNWPR', {\n            order_number: \"12\",\n            email: email,\n            name: name\n        }).then((result) => {\n            setPaymentSuccessful(true)\n            console.log(result)\n        }, (error) => {\n            console.log(error)\n        })\n\n    }\n        \n\n    return(\n        <div>\n            {cart.length ===0 ? \n            \n            <div className='zero-cart'>\n                <h1>You don't have any item in your cart</h1>\n                <Link to='/products'>\n                    <button>Search for products</button>\n                </Link>\n            </div>\n            : \n            \n            <div>\n                {\n                    paymentSuccessful ? \n                    \n                    <div className='payment-successful'>\n                        <h1 id='payment-successful-title'>Your payment was successful</h1>\n                        <h2>Your order number is <span style={{fontSize:32}}>{orderNumber}</span></h2>\n                        <h2 style={{margin:10}}>We sent you an email with the order number and delivering \n                            information. Thank you for choosing us\n                        </h2>\n                    </div>\n                    :\n                    <div>\n                        <div className='checkout'>\n                    <form onSubmit={(e)=>paymentProcessment(e)}>  \n                        <div className='personal-info'>\n                            {/* full name, cellphone, email, house street, house number, zip code */}\n                            <h1>Personal information</h1>\n                            <div className='name'>\n                                <label>Name: </label>\n                                <input type='text' name='name' onChange={(e) => setName(e.target.value)} value={name}/>\n                            </div>\n                            <div className='email'>\n                                <label>Email: </label>\n                                <input type='email' name='email' onChange={(e) => setEmail(e.target.value)} value={email}/>\n                            </div>\n                            <div className='house-street'>\n                                <label>House street: </label>\n                                <input type='text' onChange={(e) => setStreet(e.target.value)} value={street}/>\n                            </div>\n                            <div className='house-number'>\n                                <label>House number: </label>\n                                <input type='number' onChange={(e) => setNumber(e.target.value)} value={number}/>\n                            </div>\n                            <div className='zip-code'>\n                                <label>Zip code: </label>\n                                <input type='number' onChange={(e) => setZipCode(e.target.value)} value={zipCode}/>\n                            </div>\n                        </div>\n\n                        <div className='card-info'>\n                        {/* Card holder, card number, expiry date, CVV */}\n                            <h1>Card information</h1>\n                            <div className='card-holder'>\n                                <label>Card holder: </label>\n                                <input type='text' onChange={(e) => setCardHolder(e.target.value)} value={cardHolder}/>\n                            </div>\n                            <div className='card-number'>\n                                <label>Card number: </label>\n                                <input type='number' onChange={(e) => setCardNumber(e.target.value)} value={cardNumber}/>\n                            </div>\n                            <div className='expiry'>\n                                <label>Expiry date: </label>\n                                <input type='number' onChange={(e) => setExpiry(e.target.value)} value={expiry}/>\n                            </div>\n                            <div className='cvv'>\n                                <label>CVV: </label>\n                                <input type='number' onChange={(e) => setCvv(e.target.value)} value={cvv}/>\n                            </div> \n                        </div>\n                        <div className='summary-button'>\n                            <button type='submit' id='summary-button'>Pay now</button>\n                        </div> \n                </form>\n\n                <div className='summary-and-pay'>\n                    <div className='checkout-summary'>\n                        <h2 id='summary-title'>CHECKOUT SUMMARY</h2>\n                        {cart.map(item => {\n                            return <div className='summary-item' key={item.id}>\n                                <h3>{item.name} x {item.qty}</h3>\n                                <h3 id='item-price'>£{item.price*item.qty}</h3>\n                            </div>\n                        })}\n                    </div>\n                    <h2 id='summary-total'>Total: £{totalSum}</h2>\n                </div>\n        </div>\n                    </div>\n                }\n            </div>\n\n            }\n        \n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        cart: state.shop.cart\n    }\n}\n\nexport default connect (mapStateToProps) (Checkout)"]},"metadata":{},"sourceType":"module"}